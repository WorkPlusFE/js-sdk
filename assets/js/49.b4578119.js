(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{547:function(t,v,_){"use strict";_.r(v);var a=_(37),s=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"创建应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#创建应用"}},[t._v("#")]),t._v(" 创建应用")]),t._v(" "),_("p",[t._v("此文档以"),_("code",[t._v("WorkPlus v4.0")]),t._v("新版本为主，会与"),_("code",[t._v("3.0")]),t._v("版本的交互有所不同，但创建应用所需要设置的内容基本一致。同时，此文档只描述"),_("code",[t._v("轻应用")]),t._v("相关的内容。")]),t._v(" "),_("h2",{attrs:{id:"添加内部应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#添加内部应用"}},[t._v("#")]),t._v(" 添加内部应用")]),t._v(" "),_("p",[t._v("登录管理后台，选择并进入对应的组织，然后点击"),_("code",[t._v("应用管理")]),t._v("菜单，从右上角的"),_("code",[t._v("添加")]),t._v("按钮，选择"),_("code",[t._v("内部应用")]),t._v("。")]),t._v(" "),_("h3",{attrs:{id:"基本信息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#基本信息"}},[t._v("#")]),t._v(" 基本信息")]),t._v(" "),_("p",[t._v("如下图，带红星的字段表示必填，如果没有"),_("code",[t._v("应用分类")]),t._v("，点击"),_("code",[t._v("创建分类")]),t._v("进行创建即可。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/base1.png"),alt:"基本信息",width:"80%"}})]),t._v(" "),_("h3",{attrs:{id:"应用启动地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用启动地址"}},[t._v("#")]),t._v(" 应用启动地址")]),t._v(" "),_("p",[t._v("如下图，启动地址为必填项。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/base2.png"),alt:"启动地址",width:"80%"}})]),t._v(" "),_("p",[t._v("应用启动地址，是比较重要的设置，目前提供3个平台的设置，包括"),_("code",[t._v("苹果")]),t._v("、"),_("code",[t._v("安卓")]),t._v("及"),_("code",[t._v("PC客户端")]),t._v("，其中"),_("code",[t._v("苹果")]),t._v("和"),_("code",[t._v("安卓")]),t._v("的设置是一样，而"),_("code",[t._v("PC客户端")]),t._v("的相对少一些。以下是各字段的各端支持说明：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段名")]),t._v(" "),_("th",[t._v("苹果")]),t._v(" "),_("th",[t._v("安卓")]),t._v(" "),_("th",[t._v("PC 客户端")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("应用参数设置")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("消息通知提醒源")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("启动地址")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("强制安装")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("应用市场显示")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")])]),t._v(" "),_("tr",[_("td",[t._v("离线资源包")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("显示风格")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("是否全屏")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("标题栏设置")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("进度条颜色")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("支持")]),t._v(" "),_("td",[t._v("不支持")])]),t._v(" "),_("tr",[_("td",[t._v("使用应用内嵌浏览器")]),t._v(" "),_("td",[t._v("不支持")]),t._v(" "),_("td",[t._v("不支持")]),t._v(" "),_("td",[t._v("支持")])])])]),t._v(" "),_("h4",{attrs:{id:"应用参数设置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用参数设置"}},[t._v("#")]),t._v(" 应用参数设置")]),t._v(" "),_("p",[t._v("注意，该参数设置，并非为常见的 URL 上的参数设置，而是作为应用实体的一个属性。通常用于应对特殊的情况，例如设置参数"),_("code",[t._v("vpn")]),t._v("为 1，即在启动应用之前，会开启 vpn。")]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),_("p",[t._v("该设置并非为通用设置，通常情况下，需要客户端进行定制。")])]),t._v(" "),_("h4",{attrs:{id:"消息通知提醒源"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#消息通知提醒源"}},[t._v("#")]),t._v(" 消息通知提醒源")]),t._v(" "),_("p",[t._v("该设置，适用于需要做红点提示的应用，例如审批类的轻应用，支持显示"),_("code",[t._v("红点")]),t._v("、"),_("code",[t._v("数字")]),t._v("及"),_("code",[t._v("图标")]),t._v("，具体文档，请查看"),_("RouterLink",{attrs:{to:"/light-app/notify.html"}},[t._v("应用红点")]),t._v("。")],1),t._v(" "),_("h4",{attrs:{id:"启动地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#启动地址"}},[t._v("#")]),t._v(" 启动地址")]),t._v(" "),_("p",[t._v("顾名思义，就是轻应用的访问地址，通常都是"),_("code",[t._v("http(s)://")]),t._v("的访问方式。同时，入口支持传入参数占位符，当应用在客户端被打开时，客户端会自行填充参数。")]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置启动地址如下：")]),t._v("\nhttps"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("workplus"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("ticket"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ticket"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("language"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("language"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当应用启动时，ticket及language会根据当前用户信息及语言进行填充：")]),t._v("\nhttps"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("workplus"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("ticket"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("demo"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ticket"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("language"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("en\n")])])]),_("p",[t._v("支持的参数占位符包括以下属性：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段名")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("ticket")]),t._v(" "),_("td",[t._v("用户ticket，常用于单点登录")])]),t._v(" "),_("tr",[_("td",[t._v("userId")]),t._v(" "),_("td",[t._v("用户的 userId")])]),t._v(" "),_("tr",[_("td",[t._v("orgId")]),t._v(" "),_("td",[t._v("打开应用时，用户所在的组织id")])]),t._v(" "),_("tr",[_("td",[t._v("domainId")]),t._v(" "),_("td",[t._v("打开应用时，用户所在的域id")])]),t._v(" "),_("tr",[_("td",[t._v("language")]),t._v(" "),_("td",[t._v("应用的语言类型")])]),t._v(" "),_("tr",[_("td",[t._v("username")]),t._v(" "),_("td",[t._v("用户的 username")])])])]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("关于占位符")]),t._v(" "),_("p",[t._v("因为"),_("code",[t._v("PC客户端")]),t._v("默认使用下划线的命名方式设置参数的"),_("code",[t._v("key")]),t._v("值，具体原因可以查看"),_("a",{attrs:{href:"/light-app/sso#pc-%E5%AE%A2%E6%88%B7%E7%AB%AF"}},[t._v("单点登录-获取用户信息")]),t._v("，为了保持一致性，请统一使用下划线的"),_("code",[t._v("key")]),t._v("值，如：")]),t._v(" "),_("p",[_("code",[t._v("?user_id={userId}&domain_id={domainId}")]),t._v("。")])]),t._v(" "),_("p",[t._v("除了设置占位符来获取用户信息，通常为了避免缓存，上架新版本时，可以尝试在启动地址后加入版本信息参数，如下：")]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[t._v("https"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("workplus"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("v"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),_("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("\n")])])]),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("关于启动地址")]),t._v(" "),_("p",[t._v("首次创建应用，可以同时选择3个平台，安卓、苹果及 PC 客户端，但实际可以填写启动地址只有一处，那是因为创建应用实际也是创建快捷入口的一种，如果各端的访问地址不一样，需要创建应用后，再单独添加对应端的应用快捷入口。")])]),t._v(" "),_("h4",{attrs:{id:"离线资源包"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#离线资源包"}},[t._v("#")]),t._v(" 离线资源包")]),t._v(" "),_("p",[_("code",[t._v("离线资源包")]),t._v("设置是移动端特有，需要上传"),_("code",[t._v("zip")]),t._v("压缩包，并且需要设置相应的"),_("code",[t._v("启动地址")]),t._v("，具体说明，请查看"),_("RouterLink",{attrs:{to:"/light-app/offline.html"}},[t._v("离线应用")]),t._v("。")],1),t._v(" "),_("h3",{attrs:{id:"应用权限"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用权限"}},[t._v("#")]),t._v(" 应用权限")]),t._v(" "),_("p",[t._v("应用权限设置，实际就是对应用角色的设置。如下图，共分为3个角色：")]),t._v(" "),_("ul",[_("li",[t._v("普通用户，即"),_("code",[t._v("使用范围")])]),t._v(" "),_("li",[t._v("管理员")]),t._v(" "),_("li",[t._v("超级管理员")])]),t._v(" "),_("p",[t._v("通常开发轻应用，都需要设定"),_("code",[t._v("普通用户")]),t._v("及"),_("code",[t._v("管理员")]),t._v("的角色，通过平台提供的应用相关"),_("strong",[t._v("API接口")]),t._v("，即可获取到应用对应的角色人员。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/base3.png"),alt:"使用范围",width:"80%"}})]),t._v(" "),_("h3",{attrs:{id:"创建应用入口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#创建应用入口"}},[t._v("#")]),t._v(" 创建应用入口")]),t._v(" "),_("p",[t._v("应用入口又名快捷入口，一个应用可以创建多个快捷入口，相关设置跟上面提到的"),_("code",[t._v("基本信息")]),t._v("及"),_("code",[t._v("启动地址")]),t._v("一致。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/base4.png"),alt:"创建应用入口",width:"100%"}})]),t._v(" "),_("h3",{attrs:{id:"消息模版"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#消息模版"}},[t._v("#")]),t._v(" 消息模版")]),t._v(" "),_("p",[t._v("模版消息是一种特殊的消息类型，可以在管理后台进行可视化编辑，保存成功后，可以获得对应的"),_("code",[t._v("模板ID")]),t._v("。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/base5.png"),alt:"消息模版",width:"100%"}})]),t._v(" "),_("p",[t._v("可以根据实际需求，设定不同的模版消息，具体使用方式，请查看"),_("RouterLink",{attrs:{to:"/api/app/template.html"}},[t._v("模板消息")]),t._v("。")],1),t._v(" "),_("h2",{attrs:{id:"添加-isv-应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#添加-isv-应用"}},[t._v("#")]),t._v(" 添加 ISV 应用")]),t._v(" "),_("p",[t._v("登录管理后台，选择并进入对应的组织，然后点击"),_("code",[t._v("应用管理")]),t._v("菜单，从右上角的"),_("code",[t._v("添加")]),t._v("按钮，选择"),_("code",[t._v("ISV应用")]),t._v("。打开后，将列出可以购买的 ISV 应用，点击获取按钮后会弹出对应的应用信息资料框，然后勾选进行获取即可。")]),t._v(" "),_("p",{staticClass:"w6s-image"},[_("img",{attrs:{src:t.$withBase("/app/isv.png"),alt:"ISV 应用",width:"70%"}})]),t._v(" "),_("p",[t._v("获取成功后，可以在应用管理列表找到该应用，但并不能马上使用，还需给应用设置使用权限，参考"),_("a",{attrs:{href:"#%E5%BA%94%E7%94%A8%E6%9D%83%E9%99%90"}},[t._v("应用权限")]),t._v("。")])])}),[],!1,null,null,null);v.default=s.exports}}]);